<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:views="clr-namespace:LazyFit.Views"
             xmlns:psViews="clr-namespace:LazyFit.Views.Pressure"
             xmlns:fastViews="clr-namespace:LazyFit.Views.Fasting"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             x:Class="LazyFit.MainPage"
             Shell.NavBarIsVisible="False"
             Background="{StaticResource GrayBackground}">

    <Page.Behaviors>
        <toolkit:StatusBarBehavior StatusBarColor="{StaticResource GrayBackground}" StatusBarStyle="DarkContent"/>
    </Page.Behaviors>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="auto"/>
        </Grid.RowDefinitions>

        <StackLayout Grid.Row="0" Orientation="Horizontal" Padding="0,5">

            <ImageButton Source="x_50.png" WidthRequest="30" Margin="10,0,0,0" HorizontalOptions="Start" Command="{Binding OpenX}"/>
            <Label Text="LazyFit" Style="{StaticResource PageHeader}" HorizontalOptions="CenterAndExpand"/>
            <ImageButton Source="chart_50.png" WidthRequest="30" Margin="0,0,10,0" HorizontalOptions="End" Command="{Binding OpenResults}"/>
            
        </StackLayout>


        <ScrollView Grid.Row="1">
            <StackLayout Orientation="Vertical" Spacing="10" Padding="10">
                
                <Border>
                    <Border.StrokeShape>
                        <RoundRectangle CornerRadius="10"/>
                    </Border.StrokeShape>
                    <fastViews:FastingView/>
                </Border>
                
                <Border>
                    <Border.StrokeShape>
                        <RoundRectangle CornerRadius="10"/>
                    </Border.StrokeShape>
                    <views:LogButtonsView />
                </Border>

                <CollectionView ItemsSource="{Binding BloodPressures}">
                    <CollectionView.ItemsLayout>
                        <LinearItemsLayout Orientation="Horizontal" ItemSpacing="5"/>
                    </CollectionView.ItemsLayout>
                    <CollectionView.ItemTemplate>
                        <DataTemplate>
                            <psViews:PressureCardView/>
                        </DataTemplate>
                    </CollectionView.ItemTemplate>
                </CollectionView>

                <views:LatestActionsView/>
            </StackLayout>
            
            
        </ScrollView>

       

        <Label Grid.Row="2" Text="{Binding AppVersion}" HorizontalTextAlignment="Center" Margin="5"/>

    </Grid>

</ContentPage>
