<?xml version="1.0" encoding="utf-8" ?>
<mopup:PopupPage 
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:mopup="clr-namespace:Mopups.Pages;assembly=Mopups"
             xmlns:viewModels="clr-namespace:LazyFit.ViewModels"
             xmlns:converters="clr-namespace:LazyFit.Converters"
             x:Class="LazyFit.Views.LogButtonsView"
             CloseWhenBackgroundIsClicked="True"
             Background="{StaticResource DarkTransparentBrush}">

    <mopup:PopupPage.BindingContext>
        <viewModels:LogButtonsViewModel/>
    </mopup:PopupPage.BindingContext>

        <VerticalStackLayout x:Name="ContentStack" VerticalOptions="End">

            <FlexLayout Wrap="Wrap" 
                        JustifyContent="Start" 
                        Margin="3,20,3,50">

                <!-- Fast -->
            <Border FlexLayout.Basis="100%" 
                    BackgroundColor="{StaticResource LazyColor}" 
                    Style="{StaticResource LogButton}"
                    IsVisible="{Binding FastExists, Converter={converters:InverseBoolConverter}}">

                <Border.GestureRecognizers>
                    <TapGestureRecognizer Command="{Binding StartFastCommand}" />
                </Border.GestureRecognizers>

                <Grid RowDefinitions="*,*" ColumnDefinitions="*,*">
                    <Label Text="Start Fasting" 
                           Grid.Row="1" 
                           Grid.Column="1"
                           TextColor="{StaticResource White}"
                           Style="{StaticResource LogLabel}"/>  
                </Grid>

            </Border>

                <!-- Weight -->
            <Border FlexLayout.Basis="50%" BackgroundColor="OrangeRed" Style="{StaticResource LogButton}">

                <Border.GestureRecognizers>
                    <TapGestureRecognizer Command="{Binding ShowWeightCommand}" />
                </Border.GestureRecognizers>

                <Grid RowDefinitions="*,*" ColumnDefinitions="*,*">
                    <Label Text="{Binding LatestWeight}"
                           TextColor="White"
                           Style="{StaticResource LogLabelDetail}"/>
                    <Label Text="Weight" 
                       Grid.Row="1" 
                       Grid.Column="1"
                       TextColor="{StaticResource White}"
                       Style="{StaticResource LogLabel}"/>
                </Grid>

            </Border>
                
                <!-- Mood -->
            <Border FlexLayout.Basis="50%" BackgroundColor="{StaticResource NexenColor}" Style="{StaticResource LogButton}">
                <Border.GestureRecognizers>
                    <TapGestureRecognizer Command="{Binding ShowLogMoodCommand}" />
                </Border.GestureRecognizers>
                <Grid RowDefinitions="*,*" ColumnDefinitions="*,*">
                    <Label Text="Mood" 
                           Grid.Row="1" 
                           Grid.Column="1"
                           TextColor="{StaticResource White}"
                           Style="{StaticResource LogLabel}"/>
                </Grid>
                
            </Border>

            <!-- Drink -->
            <Border FlexLayout.Basis="50%" BackgroundColor="{StaticResource DarkWaterBlue}" Style="{StaticResource LogButton}">
                <Border.GestureRecognizers>
                    <TapGestureRecognizer Command="{Binding ShowDrinkCommand}" />
                </Border.GestureRecognizers>
                <Grid RowDefinitions="*,*" ColumnDefinitions="*,*">
                    <Label Text="Drink" 
                           Grid.Row="1" 
                           Grid.Column="1"
                           TextColor="{StaticResource White}"
                           Style="{StaticResource LogLabel}"/>
                </Grid>

            </Border>

            <!-- Food -->
            <Border FlexLayout.Basis="50%" BackgroundColor="{StaticResource DarkFreshGreen}" Style="{StaticResource LogButton}">
                <Border.GestureRecognizers>
                    <TapGestureRecognizer Command="{Binding ShowFoodCommand}" />
                </Border.GestureRecognizers>
                <Grid RowDefinitions="*,*" ColumnDefinitions="*,*">
                    <Label Text="Food" 
                           Grid.Row="1" 
                           Grid.Column="1"
                           TextColor="{StaticResource White}"
                           Style="{StaticResource LogLabel}"/>
                </Grid>

            </Border>

            </FlexLayout>

        </VerticalStackLayout>

</mopup:PopupPage>
